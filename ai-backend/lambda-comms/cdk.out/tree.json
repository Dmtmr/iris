{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.221.0"},"children":{"LambdaCommsStack":{"id":"LambdaCommsStack","path":"LambdaCommsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"LambdaRole":{"id":"LambdaRole","path":"LambdaCommsStack/LambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]},"children":{"PolicyLambdaCommsStackLambdaRole94724941":{"id":"PolicyLambdaCommsStackLambdaRole94724941","path":"LambdaCommsStack/LambdaRole/PolicyLambdaCommsStackLambdaRole94724941","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LambdaCommsStack/LambdaRole/PolicyLambdaCommsStackLambdaRole94724941/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:DeleteObject","s3:GetObject","s3:ListBucket","s3:PutObject","s3:PutObjectAcl"],"Effect":"Allow","Resource":["arn:aws:s3:::iris-bucket101425","arn:aws:s3:::iris-bucket101425/*"]},{"Action":["ec2:AssignPrivateIpAddresses","ec2:CreateNetworkInterface","ec2:DeleteNetworkInterface","ec2:DescribeNetworkInterfaces","ec2:DescribeSubnets","ec2:UnassignPrivateIpAddresses","logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents","ses:*"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"PolicyLambdaCommsStackLambdaRole94724941","roles":["lambda-ses-new-role"]}}}}}}},"Pg8000Layer":{"id":"Pg8000Layer","path":"LambdaCommsStack/Pg8000Layer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"VPC":{"id":"VPC","path":"LambdaCommsStack/VPC","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]},"children":{"PrivateSubnet1":{"id":"PrivateSubnet1","path":"LambdaCommsStack/VPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"LambdaCommsStack/VPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}}}},"Subnet1":{"id":"Subnet1","path":"LambdaCommsStack/Subnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Subnet2":{"id":"Subnet2","path":"LambdaCommsStack/Subnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"LambdaSecurityGroup":{"id":"LambdaSecurityGroup","path":"LambdaCommsStack/LambdaSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"LambdaComms":{"id":"LambdaComms","path":"LambdaCommsStack/LambdaComms","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"Code":{"id":"Code","path":"LambdaCommsStack/LambdaComms/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"LambdaCommsStack/LambdaComms/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"LambdaCommsStack/LambdaComms/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LambdaCommsStack/LambdaComms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["x86_64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-129671603264-us-east-1","s3Key":"94e24193558f7f1adb30db11f3b0d7e8d0da3ddb82d3897907e6b289d253ae84.zip"},"environment":{"variables":{"DB_HOST":"email-system-cluster.cluster-csxy24404km6.us-east-1.rds.amazonaws.com","DB_NAME":"email_system","DB_PASSWORD":"i8*:7ud7Js>LVQuBdlEpLMWcI!o$","DB_PORT":"5432","DB_USER":"postgres","FROM_EMAIL":"demo@irispro.xyz","S3_BUCKET":"iris-bucket101425","SMTP_PASSWORD":"AkwoCKgSShGcV0JMRKk+0wlJ3cfeVCXtA1JKIf1GRlH9","SMTP_USERNAME":"AKIAR4MIHURAJUCRYH55","OPENAI_API_KEY":"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"}},"functionName":"lambda-comms","handler":"lambda_comms.lambda_handler","layers":["arn:aws:lambda:us-east-1:129671603264:layer:pg8000-layer:1"],"memorySize":1024,"role":"arn:aws:iam::129671603264:role/lambda-ses-new-role","runtime":"python3.9","timeout":120,"vpcConfig":{"subnetIds":["subnet-072b8b66feec6f52c","subnet-0ffad26057440a18c"],"securityGroupIds":["sg-063d280bc6cea3919"]}}}},"EventInvokeConfig":{"id":"EventInvokeConfig","path":"LambdaCommsStack/LambdaComms/EventInvokeConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventInvokeConfig","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LambdaCommsStack/LambdaComms/EventInvokeConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventInvokeConfig","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventInvokeConfig","aws:cdk:cloudformation:props":{"functionName":{"Ref":"LambdaComms9B249B5E"},"maximumEventAgeInSeconds":21600,"maximumRetryAttempts":2,"qualifier":"$LATEST"}}}}},"SESInvokePermission":{"id":"SESInvokePermission","path":"LambdaCommsStack/LambdaComms/SESInvokePermission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["LambdaComms9B249B5E","Arn"]},"principal":"ses.amazonaws.com"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"LambdaCommsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LambdaCommsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LambdaCommsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LambdaCommsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}